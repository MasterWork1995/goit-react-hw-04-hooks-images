{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Container/Container.module.css","Components/Section/Section.module.css","Components/ErrorMessage/ErrorMessage.module.css","Components/Request/Request.module.css","Components/Button/Button.module.css","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Container/Container.js","Components/Searchbar/Searchbar.js","services/imageAPI.js","Components/Section/Section.js","Components/ErrorMessage/ErrorMessage.js","Components/Request/Request.js","Components/Button/Button.js","Components/Modal/Modal.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","webformatURL","largeImageURL","tags","openModal","className","s","Item","onClick","e","target","dataset","large","src","alt","Image","ImageGallery","images","map","id","Container","children","container","SearchBar","state","query","handleSubmitForm","preventDefault","props","onSubmit","setState","toast","error","handleChangeQuery","currentTarget","value","toLowerCase","trim","Searchbar","this","SearchForm","type","Button","Label","Input","autoComplete","autoFocus","placeholder","onChange","Component","KEY","pixabayAPI","fetchImage","page","fetch","then","response","json","Section","gallery","ErrorMessage","message","text","Request","button","modalRoot","document","querySelector","Modal","onKeyDown","code","onClose","onBackdropClick","window","addEventListener","removeEventListener","createPortal","overlay","modal","App","total","status","showModal","largeURL","firstFetchImages","hits","nextFetchImages","prevState","handleFormSubmit","handleIncrement","url","closeModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","color","height","width","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4a19d9d8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Item\":\"ImageGalleryItem_Item__15HB2\",\"Image\":\"ImageGalleryItem_Image__2b4Cx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__iIoj9\",\"modal\":\"Modal_modal__1xENH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__30Ls0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__164lq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Section_gallery__1eCI-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"ErrorMessage_text__DfU5f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"Request_text__3a-U2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1rVxn\"};","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({\n  webformatURL,\n  largeImageURL,\n  tags = \"image\",\n  openModal,\n}) => {\n  return (\n    <li className={s.Item}>\n      <img\n        onClick={(e) => {\n          openModal(e.target.dataset.large);\n        }}\n        src={webformatURL}\n        alt={tags}\n        className={s.Image}\n        data-large={largeImageURL}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, openModal }) => {\n  return (\n    <>\n      <ul className={s.ImageGallery}>\n        {images.map(({ id, webformatURL, largeImageURL, tags }) => {\n          return (\n            <ImageGalleryItem\n              key={id}\n              webformatURL={webformatURL}\n              openModal={openModal}\n              largeImageURL={largeImageURL}\n              tags={tags}\n            />\n          );\n        })}\n      </ul>\n    </>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import s from \"./Container.module.css\";\n\nconst Container = ({ children }) => {\n  return <div className={s.container}>{children}</div>;\n};\n\nexport default Container;\n","import { Component } from \"react\";\nimport s from \"./Searchbar.module.css\";\nimport { toast } from \"react-toastify\";\nimport Container from \"../Container\";\n\nclass SearchBar extends Component {\n  state = {\n    query: \"\",\n  };\n\n  handleSubmitForm = (e) => {\n    e.preventDefault();\n\n    if (!this.state.query) {\n      toast.error(\"Please, enter your request!\");\n      return;\n    }\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: \"\" });\n  };\n\n  handleChangeQuery = (e) => {\n    this.setState({ query: e.currentTarget.value.toLowerCase().trim() });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <Container>\n          <form onSubmit={this.handleSubmitForm} className={s.SearchForm}>\n            <button type=\"submit\" className={s.Button}>\n              <span className={s.Label}>Search</span>\n            </button>\n\n            <input\n              className={s.Input}\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              onChange={this.handleChangeQuery}\n              value={this.state.query}\n            />\n          </form>\n        </Container>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","const KEY = \"22352906-4517ac7acc857600c513123ad\";\n\nconst fetchImage = (query, page = 1) => {\n  return fetch(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    return response.json();\n  });\n};\n\nconst pixabayAPI = {\n  fetchImage,\n};\n\nexport default pixabayAPI;\n","import s from \"./Section.module.css\";\n\nconst Section = ({ children }) => {\n  return <section className={s.gallery}>{children}</section>;\n};\n\nexport default Section;\n","import PropTypes from \"prop-types\";\nimport s from \"./ErrorMessage.module.css\";\n\nconst ErrorMessage = ({ message }) => {\n  return <p className={s.text}>{message}</p>;\n};\n\nErrorMessage.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nexport default ErrorMessage;\n","import s from \"./Request.module.css\";\n\nconst Request = () => {\n  return (\n    <>\n      <p className={s.text}>Please, enter your request</p>\n    </>\n  );\n};\n\nexport default Request;\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" className={s.button} onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  onKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  onBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.overlay} onClick={this.onBackdropClick}>\n        <div className={s.modal}>{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport \"./App.css\";\nimport Loader from \"react-loader-spinner\";\nimport ImageGallery from \"./Components/ImageGallery\";\nimport SearchBar from \"./Components/Searchbar\";\nimport pixabayAPI from \"./services/imageAPI\";\nimport Section from \"./Components/Section\";\nimport Container from \"./Components/Container\";\nimport ErrorMessage from \"./Components/ErrorMessage\";\nimport Request from \"./Components/Request\";\nimport Button from \"./Components/Button\";\nimport Modal from \"./Components/Modal\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    images: null,\n    page: 1,\n    error: null,\n    total: null,\n    status: \"idle\",\n    showModal: false,\n    largeURL: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page, showModal } = this.state;\n\n    if (prevState.query !== query) {\n      this.setState({ status: \"pending\" });\n\n      this.firstFetchImages(query, page);\n    }\n\n    if (prevState.page !== page && page !== 1) {\n      this.nextFetchImages(query, page);\n    }\n\n    if (!showModal && !prevState.showModal) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  firstFetchImages = (query, page) => {\n    pixabayAPI.fetchImage(query, page).then(({ hits, total }) => {\n      this.setState({ images: hits, total, status: \"resolved\" });\n      if (!total) {\n        this.setState({\n          error: \"Something went wrong! Please, change your request!\",\n          status: \"rejected\",\n        });\n      } else {\n        this.setState({ error: null });\n      }\n    });\n  };\n\n  nextFetchImages = (query, page) => {\n    pixabayAPI.fetchImage(query, page).then(({ hits }) => {\n      this.setState((prevState) => ({\n        images: [...prevState.images, ...hits],\n      }));\n    });\n  };\n\n  handleFormSubmit = (query) => {\n    this.setState({\n      query,\n      page: 1,\n    });\n  };\n\n  handleIncrement = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n\n  openModal = (url) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      largeURL: url,\n    }));\n  };\n\n  closeModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      largeURL: \"\",\n    }));\n  };\n\n  render() {\n    const { error, status, total, page, showModal, largeURL } = this.state;\n\n    return (\n      <>\n        <SearchBar onSubmit={this.handleFormSubmit} />;\n        <Section>\n          <Container>\n            {status === \"idle\" && <Request />}\n            {status === \"rejected\" && <ErrorMessage message={error} />}\n            {status === \"resolved\" && (\n              <ImageGallery\n                images={this.state.images}\n                openModal={this.openModal}\n              />\n            )}\n            {status === \"pending\" && (\n              <Loader type=\"Watch\" color=\"#00BFFF\" height={80} width={80} />\n            )}\n            {total - page * 12 > 0 && <Button onClick={this.handleIncrement} />}\n          </Container>\n        </Section>\n        {showModal && (\n          <Modal onClose={this.closeModal}>\n            <img src={largeURL} alt=\"\" />\n          </Modal>\n        )}\n        <ToastContainer autoClose={3000} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1Vsbf\",\"SearchForm\":\"Searchbar_SearchForm__3A1Kl\",\"Button\":\"Searchbar_Button__3cNaI\",\"Label\":\"Searchbar_Label__1vEag\",\"Input\":\"Searchbar_Input__1Px6y\"};"],"sourceRoot":""}