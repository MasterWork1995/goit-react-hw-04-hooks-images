(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,n){e.exports={Item:"ImageGalleryItem_Item__15HB2",Image:"ImageGalleryItem_Image__2b4Cx"}},11:function(e,t,n){e.exports={overlay:"Modal_overlay__iIoj9",modal:"Modal_modal__1xENH"}},14:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__30Ls0"}},15:function(e,t,n){e.exports={container:"Container_container__164lq"}},16:function(e,t,n){e.exports={gallery:"Section_gallery__1eCI-"}},17:function(e,t,n){e.exports={text:"ErrorMessage_text__DfU5f"}},18:function(e,t,n){e.exports={text:"Request_text__3a-U2"}},19:function(e,t,n){e.exports={button:"Button_button__1rVxn"}},24:function(e,t,n){},27:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(4),o=n.n(r),s=(n(24),n(12)),i=n(3),l=n(8),u=(n(25),n(26),n(27),n(13)),j=n.n(u),b=n(10),m=n.n(b),d=n(1),h=function(e){var t=e.webformatURL,n=e.largeImageURL,a=e.tags,c=void 0===a?"image":a,r=e.openModal;return Object(d.jsx)("li",{className:m.a.Item,children:Object(d.jsx)("img",{onClick:function(e){r(e.target.dataset.large)},src:t,alt:c,className:m.a.Image,"data-large":n})})},f=n(14),g=n.n(f),O=function(e){var t=e.images,n=e.openModal;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("ul",{className:g.a.ImageGallery,children:t.map((function(e){var t=e.id,a=e.webformatURL,c=e.largeImageURL,r=e.tags;return Object(d.jsx)(h,{webformatURL:a,openModal:n,largeImageURL:c,tags:r},t)}))})})},x=n(5),p=n.n(x),_=n(15),v=n.n(_),S=function(e){var t=e.children;return Object(d.jsx)("div",{className:v.a.container,children:t})},y=function(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(i.a)(n,2),r=c[0],o=c[1];return Object(d.jsx)("header",{className:p.a.Searchbar,children:Object(d.jsx)(S,{children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r?(t(r),o("")):l.b.error("Please, enter your request!")},className:p.a.SearchForm,children:[Object(d.jsx)("button",{type:"submit",className:p.a.Button,children:Object(d.jsx)("span",{className:p.a.Label,children:"Search"})}),Object(d.jsx)("input",{className:p.a.Input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value.toLowerCase().trim())},value:r})]})})})},I="22352906-4517ac7acc857600c513123ad",w={fetchImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat(I,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()}))}},N=n(16),C=n.n(N),L=function(e){var t=e.children;return Object(d.jsx)("section",{className:C.a.gallery,children:t})},k=n(17),E=n.n(k),F=function(e){var t=e.message;return Object(d.jsx)("p",{className:E.a.text,children:t})},M=n(18),U=n.n(M),q=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("p",{className:U.a.text,children:"Please, enter your request"})})},B=n(19),R=n.n(B),G=function(e){var t=e.onClick;return Object(d.jsx)("button",{type:"button",className:R.a.button,onClick:t,children:"Load more"})},P=n(11),H=n.n(P),T=document.querySelector("#modal-root"),D=function(e){var t=e.onClose,n=e.children;Object(a.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}),[]);var c=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(d.jsx)("div",{className:H.a.overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(d.jsx)("div",{className:H.a.modal,children:n})}),T)},J="idle",V="pending",z="resolved",A="rejected",K=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),o=Object(i.a)(r,2),u=o[0],b=o[1],m=Object(a.useState)(1),h=Object(i.a)(m,2),f=h[0],g=h[1],x=Object(a.useState)(null),p=Object(i.a)(x,2),_=p[0],v=p[1],I=Object(a.useState)(null),N=Object(i.a)(I,2),C=N[0],k=N[1],E=Object(a.useState)(J),M=Object(i.a)(E,2),U=M[0],B=M[1],R=Object(a.useState)(!1),P=Object(i.a)(R,2),H=P[0],T=P[1],K=Object(a.useState)(""),W=Object(i.a)(K,2),Q=W[0],X=W[1];Object(a.useEffect)((function(){""!==n&&(B(V),Y(n,f))}),[n]),Object(a.useEffect)((function(){1!==f&&Z(n,f)}),[f]);var Y=function(e,t){w.fetchImage(e,t).then((function(e){var t=e.hits,n=e.total;b(t),k(n),B(z),n?v(null):(v("Something went wrong! Please, change your request!"),B(A)),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))},Z=function(e,t){w.fetchImage(e,t).then((function(e){var t=e.hits;b((function(e){return[].concat(Object(s.a)(e),Object(s.a)(t))})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(y,{onSubmit:function(e){c(e),g(1)}}),";",Object(d.jsx)(L,{children:Object(d.jsxs)(S,{children:["idle"===U&&Object(d.jsx)(q,{}),"rejected"===U&&Object(d.jsx)(F,{message:_}),"resolved"===U&&Object(d.jsx)(O,{images:u,openModal:function(e){T(!H),X(e)}}),"pending"===U&&Object(d.jsx)(j.a,{type:"Watch",color:"#00BFFF",height:80,width:80}),C-12*f>0&&Object(d.jsx)(G,{onClick:function(){g((function(e){return e+1}))}})]})}),H&&Object(d.jsx)(D,{onClose:function(){T(!H),X("")},children:Object(d.jsx)("img",{src:Q,alt:""})}),Object(d.jsx)(l.a,{autoClose:3e3})]})};o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(K,{})}),document.getElementById("root"))},5:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__1Vsbf",SearchForm:"Searchbar_SearchForm__3A1Kl",Button:"Searchbar_Button__3cNaI",Label:"Searchbar_Label__1vEag",Input:"Searchbar_Input__1Px6y"}}},[[49,1,2]]]);
//# sourceMappingURL=main.6d516544.chunk.js.map