{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Container/Container.module.css","Components/Section/Section.module.css","Components/ErrorMessage/ErrorMessage.module.css","Components/Request/Request.module.css","Components/Button/Button.module.css","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Container/Container.js","Components/Searchbar/Searchbar.js","services/imageAPI.js","Components/Section/Section.js","Components/ErrorMessage/ErrorMessage.js","Components/Request/Request.js","Components/Button/Button.js","Components/Modal/Modal.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","webformatURL","largeImageURL","tags","openModal","className","s","Item","onClick","e","target","dataset","large","src","alt","Image","ImageGallery","images","map","id","Container","children","container","SearchBar","onSubmit","useState","query","setQuery","Searchbar","preventDefault","toast","error","SearchForm","type","Button","Label","Input","autoComplete","autoFocus","placeholder","onChange","currentTarget","value","toLowerCase","trim","KEY","pixabayAPI","fetchImage","page","fetch","then","response","json","Section","gallery","ErrorMessage","message","text","Request","button","modalRoot","document","querySelector","Modal","onClose","useEffect","window","addEventListener","onKeyDown","removeEventListener","code","createPortal","overlay","modal","Status","App","setImages","setPage","setError","total","setTotal","status","setStatus","showModal","setShowModal","largeURL","setLargeURL","firstFetchImages","nextFetchImages","hits","scrollTo","top","documentElement","scrollHeight","behavior","prevImg","url","color","height","width","prevPage","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6d516544.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Item\":\"ImageGalleryItem_Item__15HB2\",\"Image\":\"ImageGalleryItem_Image__2b4Cx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__iIoj9\",\"modal\":\"Modal_modal__1xENH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__30Ls0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__164lq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Section_gallery__1eCI-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"ErrorMessage_text__DfU5f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"Request_text__3a-U2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1rVxn\"};","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({\n  webformatURL,\n  largeImageURL,\n  tags = \"image\",\n  openModal,\n}) => {\n  return (\n    <li className={s.Item}>\n      <img\n        onClick={(e) => {\n          openModal(e.target.dataset.large);\n        }}\n        src={webformatURL}\n        alt={tags}\n        className={s.Image}\n        data-large={largeImageURL}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, openModal }) => {\n  return (\n    <>\n      <ul className={s.ImageGallery}>\n        {images.map(({ id, webformatURL, largeImageURL, tags }) => {\n          return (\n            <ImageGalleryItem\n              key={id}\n              webformatURL={webformatURL}\n              openModal={openModal}\n              largeImageURL={largeImageURL}\n              tags={tags}\n            />\n          );\n        })}\n      </ul>\n    </>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import s from \"./Container.module.css\";\n\nconst Container = ({ children }) => {\n  return <div className={s.container}>{children}</div>;\n};\n\nexport default Container;\n","import React, { useState } from \"react\";\nimport s from \"./Searchbar.module.css\";\nimport PropTypes from \"prop-types\";\nimport { toast } from \"react-toastify\";\nimport Container from \"../Container\";\n\nconst SearchBar = ({ onSubmit }) => {\n  const [query, setQuery] = useState(\"\");\n\n  const handleSubmitForm = (e) => {\n    e.preventDefault();\n\n    if (!query) {\n      toast.error(\"Please, enter your request!\");\n      return;\n    }\n\n    onSubmit(query);\n    setQuery(\"\");\n  };\n\n  const handleChangeQuery = (e) => {\n    setQuery(e.currentTarget.value.toLowerCase().trim());\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <Container>\n        <form onSubmit={handleSubmitForm} className={s.SearchForm}>\n          <button type=\"submit\" className={s.Button}>\n            <span className={s.Label}>Search</span>\n          </button>\n\n          <input\n            className={s.Input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={handleChangeQuery}\n            value={query}\n          />\n        </form>\n      </Container>\n    </header>\n  );\n};\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","const KEY = \"22352906-4517ac7acc857600c513123ad\";\n\nconst fetchImage = (query, page = 1) => {\n  return fetch(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    return response.json();\n  });\n};\n\nconst pixabayAPI = {\n  fetchImage,\n};\n\nexport default pixabayAPI;\n","import s from \"./Section.module.css\";\n\nconst Section = ({ children }) => {\n  return <section className={s.gallery}>{children}</section>;\n};\n\nexport default Section;\n","import PropTypes from \"prop-types\";\nimport s from \"./ErrorMessage.module.css\";\n\nconst ErrorMessage = ({ message }) => {\n  return <p className={s.text}>{message}</p>;\n};\n\nErrorMessage.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nexport default ErrorMessage;\n","import s from \"./Request.module.css\";\n\nconst Request = () => {\n  return (\n    <>\n      <p className={s.text}>Please, enter your request</p>\n    </>\n  );\n};\n\nexport default Request;\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" className={s.button} onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nconst Modal = ({ onClose, children }) => {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", onKeyDown);\n\n    return () => {\n      window.removeEventListener(\"keydown\", onKeyDown);\n    };\n  }, []);\n\n  const onKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      onClose();\n    }\n  };\n\n  const onBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.overlay} onClick={onBackdropClick}>\n      <div className={s.modal}>{children}</div>\n    </div>,\n    modalRoot\n  );\n};\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React, { useState, useEffect } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport \"./App.css\";\nimport Loader from \"react-loader-spinner\";\nimport ImageGallery from \"./Components/ImageGallery\";\nimport SearchBar from \"./Components/Searchbar\";\nimport pixabayAPI from \"./services/imageAPI\";\nimport Section from \"./Components/Section\";\nimport Container from \"./Components/Container\";\nimport ErrorMessage from \"./Components/ErrorMessage\";\nimport Request from \"./Components/Request\";\nimport Button from \"./Components/Button\";\nimport Modal from \"./Components/Modal\";\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n};\n\nconst App = () => {\n  const [query, setQuery] = useState(\"\");\n  const [images, setImages] = useState(null);\n  const [page, setPage] = useState(1);\n  const [error, setError] = useState(null);\n  const [total, setTotal] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n  const [showModal, setShowModal] = useState(false);\n  const [largeURL, setLargeURL] = useState(\"\");\n\n  useEffect(() => {\n    if (query === \"\") return;\n\n    setStatus(Status.PENDING);\n    firstFetchImages(query, page);\n  }, [query]);\n\n  useEffect(() => {\n    if (page === 1) {\n      return;\n    }\n    nextFetchImages(query, page);\n  }, [page]);\n\n  const firstFetchImages = (query, page) => {\n    pixabayAPI.fetchImage(query, page).then(({ hits, total }) => {\n      setImages(hits);\n      setTotal(total);\n      setStatus(Status.RESOLVED);\n      if (!total) {\n        setError(\"Something went wrong! Please, change your request!\");\n        setStatus(Status.REJECTED);\n      } else {\n        setError(null);\n      }\n\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    });\n  };\n\n  const nextFetchImages = (query, page) => {\n    pixabayAPI.fetchImage(query, page).then(({ hits }) => {\n      setImages((prevImg) => [...prevImg, ...hits]);\n\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    });\n  };\n\n  const handleFormSubmit = (query) => {\n    setQuery(query);\n    setPage(1);\n  };\n\n  const handleIncrement = () => {\n    setPage((prevPage) => prevPage + 1);\n  };\n\n  const openModal = (url) => {\n    setShowModal(!showModal);\n    setLargeURL(url);\n  };\n\n  const closeModal = () => {\n    setShowModal(!showModal);\n    setLargeURL(\"\");\n  };\n\n  return (\n    <>\n      <SearchBar onSubmit={handleFormSubmit} />;\n      <Section>\n        <Container>\n          {status === \"idle\" && <Request />}\n          {status === \"rejected\" && <ErrorMessage message={error} />}\n          {status === \"resolved\" && (\n            <ImageGallery images={images} openModal={openModal} />\n          )}\n          {status === \"pending\" && (\n            <Loader type=\"Watch\" color=\"#00BFFF\" height={80} width={80} />\n          )}\n          {total - page * 12 > 0 && <Button onClick={handleIncrement} />}\n        </Container>\n      </Section>\n      {showModal && (\n        <Modal onClose={closeModal}>\n          <img src={largeURL} alt=\"\" />\n        </Modal>\n      )}\n      <ToastContainer autoClose={3000} />\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1Vsbf\",\"SearchForm\":\"Searchbar_SearchForm__3A1Kl\",\"Button\":\"Searchbar_Button__3cNaI\",\"Label\":\"Searchbar_Label__1vEag\",\"Input\":\"Searchbar_Input__1Px6y\"};"],"sourceRoot":""}